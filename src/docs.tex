\documentclass[10pt,a4paper,twoside,titlepage]{report}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage[paper=a4paper,margin=1in]{geometry}
\usepackage[chapter]{minted}
\usepackage{graphicx,wrapfig}
\usepackage[hidelinks]{hyperref}
\usepackage{booktabs,tabularx}

\graphicspath{{img/}}

\pagestyle{fancy}

\fancyhf{}
\fancyhead[RE,LO]{\rightmark}
\fancyfoot[LE,RO]{Page \thepage}

\renewcommand{\headrulewidth}{0.8pt}
\renewcommand{\footrulewidth}{0.8pt}

\fancypagestyle{plain}{
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0.8pt}
	\fancyhf{}
	\fancyfoot[LE,RO]{Page \thepage}
}

\usemintedstyle{borland}

\author{Ondřej~Hlavatý, Jan~Hrach, Jaroslav~Jindrák,\\Petr~Mánek, Michal~Staruch}
\title{HelenOS USB 3.x Stack}

\begin{document}

% The title page has its special margin.
\maketitle


% Use double-sided margins from now on.
\newgeometry{top=1in,bottom=1in,right=0.5in,left=1.5in}
\cleardoublepage

\input{macros}


% Lists go in the front.
\tableofcontents
\newpage

\listoffigures
\newpage

\listoftables
\newpage

\listoflistings
\newpage

\cleardoublepage


% Here begins the actual content.
\input{01_intro}
\input{02_xhci}
\input{03_mods}
\input{04_drivers}


% Appendices
\appendix
\input{A1_testing}
\input{A2_compat}
\input{A3_future}
\input{A4_spec}
\input{A5_refs}

\cleardoublepage

\end{document}

